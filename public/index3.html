<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Management App</title>
    <style>
        .btn-primary {
            background-color: #4CAF50;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        table {
            border-collapse: collapse;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        
        th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <h1>Device Management App</h1>
    
    <button class="btn-primary" id="add-device-btn">Add Device</button>
    
    <table id="device-table">
        <thead>
            <tr>
                <th>Device Name</th>
                <th>Device Type</th>
                <th>Owner Name</th>
                <th>Battery Status (%)</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="device-body">
        </tbody>
    </table>
    
    <form id="add-device-form" style="display: none;">
        <label for="device-name">Device Name:</label>
        <input type="text" id="device-name" name="deviceName"><br><br>
        <label for="device-type">Device Type:</label>
        <select id="device-type" name="deviceType">
            <option value="Smartphone">Smartphone</option>
            <option value="Tablet">Tablet</option>
            <option value="Camera">Camera</option>
        </select><br><br>
        <label for="owner-name">Owner Name:</label>
        <input type="text" id="owner-name" name="ownerName"><br><br>
        <button class="btn-primary" id="add-device-btn-form">Add Device</button>
    </form>
    
    <script>
        let deviceData = [];
        
        function updateDeviceTable() {
            const tbody = document.getElementById('device-body');
            tbody.innerHTML = '';
            
            deviceData.forEach((device) => {
                const tr = document.createElement('tr');
                
                const deviceNameTd = document.createElement('td');
                deviceNameTd.textContent = device.name;
                tr.appendChild(deviceNameTd);
                
                const deviceTypeTd = document.createElement('td');
                deviceTypeTd.textContent = device.type;
                tr.appendChild(deviceTypeTd);
                
                const ownerNameTd = document.createElement('td');
                ownerNameTd.textContent = device.owner;
                tr.appendChild(ownerNameTd);
                
                const batteryStatusTd = document.createElement('td');
                batteryStatusTd.textContent = device.batteryStatus + '%';
                tr.appendChild(batteryStatusTd);
                
                const actionsTd = document.createElement('td');
                const updateBtn = document.createElement('button');
                updateBtn.classList.add('btn-primary');
                updateBtn.textContent = 'Update';
                updateBtn.addEventListener('click', () => {
                    updateDevice(device);
                });
                actionsTd.appendChild(updateBtn);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.classList.add('btn-primary');
                deleteBtn.textContent = 'Delete';
                deleteBtn.addEventListener('click', () => {
                    removeDevice(device);
                });
                actionsTd.appendChild(deleteBtn);
                tr.appendChild(actionsTd);
                tbody.appendChild(tr);
            });
        }
        
        function updateDevice(device) {
            deviceData.forEach((dev, index) => {
                if (dev.name === device.name) {
                    document.getElementById('device-name').value = dev.name;
                    document.getElementById('device-type').value = dev.type;
                    document.getElementById('owner-name').value = dev.owner;
                    document.getElementById('add-device-btn-form').style.display = 'none';
                    document.getElementById('update-device-btn').style.display = '';
                    
                    setTimeout(() => {
                        let newBatteryStatus = parseInt(dev.batteryStatus);
                        if (newBatteryStatus > 0) {
                            newBatteryStatus -= 1;
                            dev.batteryStatus = newBatteryStatus.toString();
                            updateDeviceTable();
                        }
                    }, 1000);
                }
            });
        }
        
        function addDevice() {
            const name = document.getElementById('device-name').value;
            const type = document.getElementById('device-type').value;
            const owner = document.getElementById('owner-name').value;
            
            deviceData.push({
                name,
                type,
                owner,
                batteryStatus: '100%',
            });
            
            updateDeviceTable();
        }
        
        function removeDevice(device) {
            deviceData.forEach((dev, index) => {
                if (dev.name === device.name) {
                    deviceData.splice(index, 1);
                }
            });
            
            updateDeviceTable();
        }
        
        document.getElementById('add-device-btn').addEventListener('click', () => {
            const addDeviceForm = document.getElementById('add-device-form');
            addDeviceForm.style.display = 'block';
            document.getElementById('update-device-btn').style.display = 'none';
            document.getElementById('device-table').style.display = 'none';
        });
        
        document.getElementById('add-device-btn-form').addEventListener('click', (e) => {
            e.preventDefault();
            addDevice();
        });
    </script>
</body>
</html>
